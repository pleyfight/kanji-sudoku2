{
  "version": 1,
  "purpose": "Instructions for an AI to generate new Japanese Sudoku puzzles that integrate with this repo.",
  "sourceData": {
    "puzzleDataFolder": "src/puzzle-data",
    "fileGlob": "src/puzzle-data/*.json",
    "schema": "schemas/puzzle.schema.json"
  },
  "generationRules": {
    "gridSize": 9,
    "symbolsPerPuzzle": 9,
    "rowColumnUniqueness": "Each row and column must contain the 9 symbols exactly once.",
    "subgridUniqueness": "For easy/medium/hard, each 3x3 box must contain the 9 symbols exactly once. Expert puzzles do not require 3x3 box uniqueness.",
    "kanaHandling": {
      "allowed": true,
      "mustBeRevealed": true,
      "note": "Kana act as fixed particle placeholders; players only fill kanji."
    },
    "templateSolutionAlignment": "For each cell, solution[row][col] must equal symbols.indexOf(template[row][col]) + 1.",
    "expertSentenceRules": {
      "required": true,
      "rowDirection": "left-to-right",
      "columnDirection": "top-to-bottom, read columns from right to left",
      "uniqueSentences": "All 18 sentences (9 rows + 9 columns) must be unique and no row sentence can match any column sentence.",
      "sentenceHints": "Provide sentenceHints.rows and sentenceHints.columns arrays (9 strings each) that describe the row/column sentences without revealing kanji. Use the sentence pools in src/data/sentences/rows.json and src/data/sentences/columns.json for these hints."
    },
    "difficultyIdRanges": {
      "easy": {
        "min": 1001,
        "max": 11000
      },
      "medium": {
        "min": 11001,
        "max": 21000
      },
      "hard": {
        "min": 21001,
        "max": 31000
      },
      "expert": {
        "min": 31001,
        "max": 41000
      }
    },
    "vocabularyGuidance": "Include entries relevant to the symbols and theme; prefer covering all symbols across the vocabulary list.",
    "expertRevealPolicy": "Expert puzzles should reveal a small number of non-kana cells (one per unique symbol) to seed the slot mapping. Keep it limited (e.g., 3 unique symbols); kana must still be revealed."
  },
  "uniqueness": {
    "compareAgainst": "all puzzles in sourceData",
    "mustBeUniqueBy": [
      "id",
      "title",
      "symbols",
      "template",
      "solution"
    ],
    "rejectIfAnyMatch": true
  },
  "output": {
    "format": "single PuzzleDefinition object",
    "targetFilePattern": "src/puzzle-data/{difficulty}.json",
    "append": true
  }
}
