{
  "version": 1,
  "purpose": "Instructions for an AI to generate new Japanese Sudoku puzzles that integrate with this repo.",
  "sourceData": {
    "puzzleDataFolder": "src/puzzle-data",
    "fileGlob": "src/puzzle-data/*.json",
    "schema": "schemas/puzzle.schema.json"
  },
  "generationRules": {
    "gridSize": 9,
    "symbolsPerPuzzle": 9,
    "rowColumnUniqueness": "Each row and column must contain the 9 symbols exactly once (easy/medium/hard only).",
    "subgridUniqueness": "For easy/medium/hard, each 3x3 box must contain the 9 symbols exactly once.",
    "kanaHandling": {
      "allowed": true,
      "mustBeRevealed": true,
      "note": "Kana act as fixed particle placeholders; players only fill kanji."
    },
    "templateSolutionAlignment": "For each cell, solution[row][col] must equal symbols.indexOf(template[row][col]) + 1.",
    "expertSentenceRules": {
      "required": true,
      "rowDirection": "left-to-right",
      "columnDirection": "top-to-bottom, read columns from right to left",
      "uniqueSentences": "All 18 sentences (9 rows + 9 columns) must be unique and no row sentence can match any column sentence.",
      "sentenceHints": "sentenceHints.rows and sentenceHints.columns must match the actual row/column strings. Use src/data/sentences/rows.json and src/data/sentences/columns.json.",
      "expertRule": "Expert mode is a 9x9 word-square: rows and columns are linguistically valid sentences; Sudoku uniqueness rules do not apply."
    },
    "difficultyIdRanges": {
      "easy": {
        "min": 1001,
        "max": 11000
      },
      "medium": {
        "min": 11001,
        "max": 21000
      },
      "hard": {
        "min": 21001,
        "max": 31000
      },
      "expert": {
        "min": 31001,
        "max": 41000
      }
    },
    "vocabularyGuidance": "Include entries relevant to the symbols and theme; prefer covering all symbols across the vocabulary list.",
    "expertRevealPolicy": "Expert puzzles should reveal a small number of random cells to seed the word-square. Keep it limited (e.g., 9 cells)."
  },
  "uniqueness": {
    "compareAgainst": "all puzzles in sourceData",
    "mustBeUniqueBy": [
      "id",
      "title",
      "symbols",
      "template",
      "solution"
    ],
    "rejectIfAnyMatch": true
  },
  "output": {
    "format": "single PuzzleDefinition object",
    "targetFilePattern": "src/puzzle-data/{difficulty}.json",
    "append": true
  }
}
